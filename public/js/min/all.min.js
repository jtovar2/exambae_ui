var exambae=angular.module("exambae",["ngMaterial","ngAnimate","ngMessages","ngAria","ui.router"]);!function(e){e.config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/"),e.state("newexam",{url:"/newexam",templateUrl:"partials/newexam-partial.html",controller:"newexamController",controllerAs:"vm"}).state("home",{url:"/",templateUrl:"partials/home-partial.html",controller:"HomeController",controllerAs:"vm"})}])}(exambae),function(e){e.factory("SearchFactory",["$q","$http",function(e,o){function l(o){return console.log(o),e.resolve(o.data)}function a(o){return console.log(o),console.log("There was an error"),e.reject(o)}function t(){return o.get(c+"/frontend/get_schools").then(l,a)}function n(e){var t="/frontend/school/"+e.display+"/get_classes";return o.get(c+t).then(l,a)}function s(e,t){var n="/frontend/school/"+e.display+"/class/"+t.display+"/get_resources";return o.get(c+n).then(l,a)}var r={getSchools:t,getClasses:n,getExams:s},c="http://demolisherapp.appspot.com";return r}])}(exambae),function(e){e.controller("HeaderController",["$scope","$state","$rootScope",function(e,o,l){var a=this;a.state="home",l.$on("$stateChangeSuccess",function(e,l,t,n,s){a.state=o.current.name})}])}(exambae),function(e){e.controller("HomeController",["$scope","SearchFactory",function(e,o){function l(e){return m.loadingSchools=!1,console.log(e),console.log(m.loadingSchools),e}function a(e){m.loadingClasses=!0,m.loadingExams=!0,m.schoolHasBeenSelected=!1}function t(e){null==m.selectedSchool||""===m.selectedSchool?(m.schoolHasBeenSelected=!1,m.classHasBeenSelected=!1,m.selectedClass="",m.loadingClasses=!0,m.loadingExams=!0):(m.schoolHasBeenSelected=!0,m.schoolClasess=o.getClasses(m.selectedSchool).then(s)),console.log("selection method"),console.log(m)}function n(e){return e?m.schools.filter(d(e)):m.schools}function s(e){return m.loadingClasses=!1,console.log(e),e}function r(e){m.classHasBeenSelected=!1,m.loadingExams=!0}function c(e){null===m.selectedClass||""===m.selectedClass?(m.classHasBeenSelected=!1,m.loadingExams=!0):(m.classHasBeenSelected=!0,o.getExams(m.selectedSchool,m.selectedClass).then(i))}function i(e){return m.loadingExams=!1,console.log(m.loadingExams),console.log(e),m.exams=e,e}function u(e){return e?m.schoolClasess.filter(d(e)):m.schoolClasess}function h(e){alert("Sorry! You'll need to create a Constitution for "+e+" first!")}function d(e){var o=angular.lowercase(e);return function(e){return 0===e.value.indexOf(o)}}var m=this;m.loadingExams=!0,m.exams=[{description:"test1"}],m.loadingSchools=!0,m.isSchoolSearchDisabled=!1,m.isSchoolCacheDisabled=!1,m.schoolHasBeenSelected=!1,m.schools=o.getSchools().then(l),m.searchSchool="",m.selectedSchool="",m.selectedSchoolChange=t,m.searchSchoolChange=a,m.schoolQuerySearch=n,m.loadingClasses=!0,m.isClassSearchDisabled=!1,m.isClassCacheDisabled=!1,m.classHasBeenSelected=!1,m.searchClass="",m.classQuerySearch=u,m.schoolClasess=[],m.selectedClass="",m.selectedClassChange=c,m.searchClassChange=r,m.newState=h}])}(exambae),function(e){e.controller("newexamController",["$scope","SearchFactory",function(e,o){function l(){console.log("ayyyeee"),console.log(a.metaDataForm)}var a=this;a.fileUploaded=!0,a.uploadFile=l,a.metaDataForm={};a.exam={school:"",schoolClass:"",description:"",price:0},console.log("newexam")}])}(exambae),function(e){e.directive("errorDirective",[function(){return{scope:{},controller:function(e,o,l,a){var t=Math.floor(2*Math.random()),n=Math.floor(7*Math.random());e.random=n,e.randomText=t},templateUrl:"partials/error-view-partial.html",link:function(e,o,l,a){}}}])}(exambae),function(e){e.directive("examDirective",[function(){return{scope:{exam:"="},controller:function(e,o,l,a){e.uploadFile=function(){console.log("uploading");e.blob}},templateUrl:"partials/exam-directive.html",replace:!0,link:function(e,o,l,a){}}}])}(exambae),function(e){e.directive("loadingDirective",[function(){return{scope:{},controller:function(e,o,l,a){var t=Math.floor(2*Math.random()),n=Math.floor(8*Math.random());e.random=n,e.randomText=t},templateUrl:"partials/loading-view-partial.html",link:function(e,o,l,a){}}}])}(exambae),function(e){e.directive("successDirective",[function(){return{scope:{},controller:function(e,o,l,a){var t=Math.floor(2*Math.random()),n=Math.floor(7*Math.random());e.random=n,e.randomText=t},templateUrl:"partials/success-view-partial.html",link:function(e,o,l,a){}}}])}(exambae);